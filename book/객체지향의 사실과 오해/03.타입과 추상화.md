## 추상화를 통한 복잡성 극복

- 추상화?
  - 어떤 양상, 세부 사항, 구조를 좀 더 명확하게 이해하기 위해 특정 절차나 물체를 의도적으로 생략하거나 감춤으로써 복잡도를 극복하는 방법이다.
  - 복잡성을 다루기 위해 추상화는 두 차원에서 이뤄진다.
    - 첫 번째 차원은 구체적인 사물들 간의 공통점은 취하고 차이점은 버리는 일반화를 통해 단순하게 만드는 것이다.
    - 두 번째 차원은 중요한 부분을 강조하기 위해 불필요한 세부 사항을 제거함으로써 단순하게 만드는 것이다.
  - 모든 경우에 추상화의 목적은 복잡성을 이해하기 쉬운 수준으로 단순화하는 것이다.

## 객체지향과 추상화

### 개념

- 공통점을 기반으로 객체들을 묶기 위한 그릇을 **개념(concept)** 이라고 한다.
- 일반적으로 우리가 인식하고 있느 다양한 사물이나 객체에 적용할 수 있는 아이디어나 관념을 뜻한다.
- **인스턴스(instance)**
  - 하트 영황은 '트럼프'라는 개념 그룹의 일원이고 하얀 토끼는 '토끼'라는 개념 그룹의 일원이다.
  - 이처럼 객체에 어떤 개념을 적용하는 것이 가능해서 개념 그룹의 일원이 될 때 객체를 그 개념의 인스턴스라고 한다.
- 객체?
  - 특정한 개념을 적용할 수 있는 구체적인 사물을 의미한다.
  - 개념이 객체에 적용됐을 때 객체를 개념의 인스턴스라고 한다.

### 개념의 세 가지 관점

- 객체를 구성하는 세 가지: 심볼, 내연, 외연.
- **심볼(symbol)**
  - 개념을 가리키는 간략한 이름이나 명칭.
  - ex. 트펌프
- **내연(intension)**
  - 개념의 완전한 정의를 나타내며 내연의 의미를 이용해 객체가 개념에 속하는지 여부를 확인할 수 있다.
  - 개념의 의미.
  - 심볼에 대한 설명이 내연.
  - 내연은 개념을 객체에게 적용할 수 있는지 여부를 판단하기 위한 조건.
  - ex. 몸이 납작하고 두 손과 두 발은 네모 귀퉁이에 달려 있는 등장인물.
- **외연(extension)**
  - 개념에 속하는 모든 객체의 집합(set).
  - 개념에 속하는 객체들.
  - 개념의 인스턴스들이 모여 이뤄진 집합을 가리킨다.
  - ex. 정원사, 병사, 신하, 왕자와 공주, 하객으로 참석한 왕과 왕비들, 하트 잭, 하트 왕과 하트 여왕.

### 객체를 분류하기 위한 틀

- 분류?
  - 객체에 특정한 개념을 적용하는 작업이다.
  - 객체에 특정한 개념을 적용하기로 결심했을 때 우리는 그 객체를 특정한 집한의 멤버로 분류하고 있는 것이다.
- 분류의 중요성
  - 어떤 객체를 어떤 개념으로 분류할지가 객체지향의 품질을 결정한다.
  - 객체를 적절한 개념에 따라 분류하지 못한 애플리케이션은 유지보수가 어렵고 변화에 쉽게 대처하지 못한다.
  - 적절한 개념에 따라 분류한 애플리케이션은 유지보수가 용이하고 변경에 유연하게 대처할 수 있다.

### 분류는 추상화를 위한 도구다

- 개념은 객체들의 복잡성을 극복하기 위한 추상화 도구다.

## 타입

### 타입은 개념이다

- 타입?
  - 타입은 개념과 동일하다.
  - 따라서 타입이라 우리가 인식하고 있는 다양한 사물이나 객체에 적용할 수 있는 아이디어나 관념을 의미한다.
  - 어떤 객체에 타입을 적용할 수 있을 때 그 객체를 타입의 인스턴스라고 한다.
  - 타입의 인스턴스는 타입을 구성하는 외연의 객체 집한의 일원이 된다.

### 데이터 타입

- 데이터 타입?
  - 메모리 안에 저장된 데이터의 종류를 분류하는데 사용하는 메모리 집합에 관한 메타데이터다.
  - 데이터에 대한 분류는 암시적으로 어떤 종류의 연산이 해당 데이터에 대해 수행될 수 있는지를 결정한다.
- 타입에 관련된 두 가지 중요한 내용
  - 첫째, 타입은 데이터가 어떻게 사용되느냐에 관한 것이다.
    - 숫자형 데이터가 숫자형인 이유는 데이터를 더하거나 빼거나 곱하거나 나눌 수 있기 때문이다.
  - 둘째, 타입에 속한 데이터를 메모리에 어떻게 표현하는지는 외부로부터 철저하게 감춰진다.

### 객체와 타입

- 객체는 테이터인가? 아니다.
  - 객체에서 중요한 것은 객체의 행동이다.
  - 상태는 행동의 결과로 초래된 부수효과를 쉽게 표현하기 위해 도입한 추상적인 개념이다.
- 타입에 관련된 두 가지 중요한 내용
  - 첫째, 어떤 객체가 어떤 타입에 속하는지를 결정하는 것은 객체가 수행하는 행동이다.
  - 둘째, 객체의 내부적인 표현은 외부로부터 철저하게 감춰진다.

### 행동이 우선이다

- 어떤 객체를 다른 객체와 동일한 타입으로 분류하는 기준은 무엇인가?
  - 그 객체가 타입에 속한 다른 객체와 동일한 행동을 하기만 하면 된다.
  - 그 객체가 어떠 ㄴ데이터를 가지고 있는지는 우리의 관심사가 아니다.
- 타입이 데이터가 아니라 행동에 의해 결정된다.
  - 같은 타입에 속한 객체는 행동만 동일하다면 서로 다른 데이터를 가질 수 있다.
  - 동일한 행동이란 동일한 책임을 의미, 동일한 책임은 동일한 메시지 수진을 의미.
- 다형성?
  - 동일한 요청에 대해 서로 다른 방식으로 응답할 수 있는 능력.
  - 내부의 표현 방식이 다르기 때문에 동일한 메시지를 처리하는 방식은 서로 다를 수 밖에 없다.
- 캡슐화
  - 훌륭한 객체지향 설계는 외부에 행동만을 제공하고 데이터는 행동 뒤로 감춰야 한다.
  - 공용 인터페이스 뒤로 데이터를 캡슐화하는 오래된 격언은 객체를 행동에 따라 분류하기 위해 지켜야 하는 기본적인 원칙.
- **책임-주도 설계(Responsibility-Driven Design), RDD**
  - 행동에 따라 객체를 분류하기 위해서는 객체가 내부적으로 관리해야 하는 데이터가 아니라 객체가 외부에 제공해야 하는 행동을 먼저 생각해야 한다.
  - RDD라고 부르는 객체지향 설계 방법은 데이터를 먼저 생각하는 데이터-주도 설계(Data-Driven Design) 방법의 단점을 개선하기 위해 고안.
- 행동
  - 객체를 결정하는 것은 행동이다.
  - 데이터는 단지 행동을 따를 뿐이다.
  - 이것이 객체를 객체답게 만드는 가장 핵심적인 원칙이다.

## 타입의 계층

### 트럼프 계층

- **일반화/특수화(generalization/specialization) 관계**
  - 트럼프는 트럼프 인가을 포괄하는 좀 더 일반적인 개념이다.
  - 트럼프 인간은 트럼프보다 좀 더 특화된 행동을 하는 특수한 개념이다.

### 일반화/특수화 관계

- 타입과 타입 사이에는 일반화/특수화 관계가 존재할 수 있다.
  - 일반화와 특수환느 동시에 일어난다.
- 일반화
  - 트럼프는 트럼프 인간보다 더 일반적인 개념이다.
  - 더 일반적이라는 말은 더 포괄적이라는 의미를 내포하기 때문에 트럼프는 트럼프 인간에 속하는 객체를 포함한다.
- 특수화
  - 트럼프 인간은 트럼프를 좀 더 특수하게 표현한것이다.
  - 더 특수하다는 것은 일반적인 개념보다 범위가 더 좁다는 것을 의미하므로 트럼프 인간에 속하는 객체느 ㄴ트럼프에 속하는 객체보다 그 수가 적을 수밖에 없다.
- 행동
  - 객체지향에서 일반화/특수화 관계를 결정하는 것은 객체의 상태를 표현하는 데이터가 아니라 행동이라는 것이다.

### 슈퍼타입과 서브타입

- **슈퍼타입(Supertype)**
  - 좀 더 일반적인 타입.
- **서브타입(Subtype)**
  - 좀 더 특수한 타입.
- 행동
  - 슈퍼타입과 서브타입에서 중요한 것은 두 타입 간의 관계가 행동에 의해 결정된다는 점이다.

### 일반화는 추상화를 위한 도구다

- 추상화 기법 사용
  - 첫째, 공통 타입으로 분류.
    - 정원에 있던 등장인물들의 차이점을 배제하고 공통점만을 강조함으로써 이들을 공통의 타입인 트럼프 인간으로 분류했다.
  - 둘째, 포과적인 의미로 일반화.
    - 앨리스가 '기껏해야 트럼프에 불과해'라고 생각했을 때 애리스는 머릿속에서 걸을 수 있는 트럼프 인간의 특수한 능력은 제거하고 종이 조각처럼 쉽게 뒤집어지는 트럼프의 특서에 집중한 것이다.
    - 불필요한 특성을 배제하고 좀 더 포괄적인 의미르 ㄹ지닌 트럼프로 일반화한 것이다.

## 정적 모델

### 타입의 목적

- 타입은 시간에 따라 동적으로 변하는 앨리스의 상태를 시간과 무관한 정적인 모습으로 다룰 수 있게 해준다.

### 그래서 결국 타입은 추상화다

- 이런 관점에서 타입은 추상화다.
  - 타입을 이용하면 객체의 동적인 특성을 추상화할 수 있다.
  - 결국 타입은 시간에 따른 객체의 상태 변경이라는 복잡성을 단순화할 수 있는 효과적인 방법인 것이다.

### 동적 모델과 정적 모델

- 객체를 생각할 때 아래의 두 가지 모델을 동시에 고려한다.
- **동적 모델(dynamic model)**
  - 스냅샷처럼 실제롤 개체가 살아 움직이는 동안 상태가 어떻게 변하고 어떻게 행동하는지를 포착하는 것.
    - **스냅샷(snapshot)**: 객체가 특정 시점에 구체적으로 어떤 상태를 가지는지.
- **타입 모델(type diagram)** / **정적 모델(static model)**
  - 객체가 가질 수 있는 모든 상태와 모든 행동을 시간에 독립적으로 표현하는 것.
  - 이 모델은 동적으로 변하는 객체의 상태가 아니라 객체가 속한 타입의 정적인 모습을 표현.

### 클래스

- 객체지향 프로그래밍 언어에서 정적인 모델은 클래스를 이용해 구현된다.
- 클래스와 타입은 동일한 것이 아니다.
  - 타입은 객체를 분류하기 위해 사용하는 개념.
  - 클래스는 단지 타입을 구현할 수 있는 여러 구현 메커니즘 중 하나일 뿐.
- 결국 객체지향에서 중요한 것은 동적으로 변하는 객체의 '상태'와 상태를 변경하는 '행위'다.
