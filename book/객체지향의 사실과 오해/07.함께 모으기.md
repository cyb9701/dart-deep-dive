- 객체지향 설계 안에 존재하는 세 가지 상호 연관된 관점
  - 세 가지 관점을 각각 개념 관점, 명세 관점, 구현 관점이라고 부른다.
- **개념 관점(Conceptual Perspective)**
  - 개념 관점에서 설계는 도메인 안에 존재하는 개념과 개념들 사이의 관계를 표현한다.
  - 실제 도메인의 규칙과 제약을 최대한 유사하게 반영하는 것이 핵심이다.
- **명세 관점(Specification Perspective)**
  - 명세 관점에 이르면 사용자의 영역인 도메인을 벗어나 개발자의 영역인 소프트웨어로 처점이 옮겨진다.
  - 명세 관점에서 프로그래머는 객체가 협력을 위해 '무엇'을 할 수 있는가에 초점을 맞춘다.
  - 인터페이스와 구현을 분리하는 것은 훌륭한 객체지향 설계를 낳는 가장 기본적인 원칙이라는 점을 기억하라.
- **구현 관점(Implementation Perspective)**
  - 구현 관점은 프로그래머인 우리에게 가장 익숙한 관점으로, 실제 작업을 수행하는 코드와 연관돼 있다.
- 개념 관점, 명세 관점, 구현 관점은 동일한 클래스를 세 가지 다른 방향에서 바라보는 것을 의미한다.
  - 클래스가 은유하는 개념은 도메인 관점을 반영한다.
  - 클래스의 공용 인터페이스는 명세 관점을 반영한다.
  - 클래스의 속성과 메서드는 구현 관점을 반영한다.

## 커피 전문점 도메인

### 커피 전문점이라는 세상

- 우리가 할 수 있는 일은 동적인 객체를 정적인 타입으로 추상화해서 복잡성을 낮추는 것이다.
- 타입은 분류를 위해 사용된다는 것을 기억하라.
- 상태와 무관하게 동일하게 행동할 수 있는 객체들은 동일한 타입의 인스턴스로 분류할 수 있다.

  ![1](https://github.com/cyb9701/more-deeper/assets/59527787/d81b5c12-7282-4b17-85b1-451aa2178608)

- 그림 7.5는 커피 전문점 도메인을 구성하는 타입들의 종류와 관계를 표현한 것이다.
- 이 그림은 커피 제조와 관련된 객체들을 타입과 관계를 이용해 추상화한 일종의 모델이다.
- 이처럼 소프트웨어가 댓ㅇ으로 하는 영역인 도메인을 단순화해서 표현한 모델을 **도메인 모델** 이라고 한다.

## 설계하고 규현하기

### 커피를 주문하기 위한 협력 찾기

- 객체지향 설계의 첫 번째 목표는 훌륭한 객체를 설계하는 것이 아니라 훌륭한 협력을 설계하는 것이라는 점을 잊지 말자.
- 협력을 설계할 때는 객체가 메시지를 선택하는 것이 아니라 메시지가 객체를 선택하게 해야 한다.
  - 이 말은 메시지를 먼저 선택하고 그 후에 메시지를 수신하기에 적절한 객체를 선택해야 한다는 것을 의미한다.
- 메시지를 처리할 객체를 찾고 있다면 먼저 도메인 모델 안에 책임을 수행하기에 적절한 타입이 존재하는지 살펴보라.
  - 적절한 타입을 발견했다면 책임을 수행할 객체를 그 타입의 인스턴스로 만들어라.

  ![2](https://github.com/cyb9701/more-deeper/assets/59527787/ebe57b0e-5186-4d4a-a5be-1923c10263c8)

### 인터페이스 정리하기

![3](https://github.com/cyb9701/more-deeper/assets/59527787/8a5048dc-40e8-437c-b828-cdc77eabfa4a)
![4](https://github.com/cyb9701/more-deeper/assets/59527787/8185694b-74ac-4229-b0c8-ca11f04c36b2)

## 코드와 세 가지 관점

### 코드는 세 가지 관점을 모두 제공해야 한다.

- 개념 관점, 명세 관점, 구현 관점은 동일한 코드를 바라보는 서로 다른 관점이다.
- 하나의 클래스 안에 세 가지 관점을 모두 포함하면서도 각 관점에 대응되는 요소를 명확하고 깔끔하게 드러낼 수 있다.

### 도메인 개념을 참조하는 이유

- 어떤 메시지가 있을 때 그 메시지를 수신할 객체를 어떻게 선택하는가?
- 첫 번째 전략은 도메인 개념 중에서 가장 적절한 것을 선택하는 것이다.
- 도메인 개념 안에서 적절한 객체를 선택하는 것은 도메인에 대한 지식을 기반으로 코드의 구조와 의미를 쉽게 유추할 수 있게 한다.

### 인터페이스와 구현을 분리하라

- 인터페이스와 구현을 분리하라.
- 명세 관점은 클래스의 안정적인 측면을 드러내야 한다.
- 구현 관점은 클래스의 불안정한 측면을 드러내야 한다.
- 인터페이스가 구현 세부 사항을 노출하기 시작하면 아주 작은 변동에도 전체 협력이 요동치는 취약한 설계를 얻을 수밖에 없다.
- 훌륭한 설계를 결정하는 측면은 명세 관점인 객체의 인터페이스다.
- 명세 관점이 설계를 주도하게 하면 설계의 품질이 향상될 수 잇다는 사실을 기억하라.
